<!DOCTYPE html >
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <style type="text/css">
        .login-wrapper {
            width: 100vw;
            height: 100vh;
            background-color: #eeeff3;
        }

        .slide-img {
            display: block;
            width: 100vw;
            height: 100vh;
        }

        .layui-btn-radius {
            width: 5vw
        }

        .logo-bg {
            z-index: 0;
        }

        .cet-them-color {
            color: #8635a0;
        }
        .cet-border{
            width: 100vw;
            border-bottom: 0.6vh solid #8635a0;
        }
        /*.form-control:focus{*/
        /*    border-color: #8635a0;*/
        /*    webkit-box-shadow:none;*/
        /*    box-shadow:none;*/
        /*}*/
    </style>
</head>

<link th:href="@{css/bootstrap.css}" rel="stylesheet"/>
<link th:href="@{js/css/layui.css}" rel="stylesheet">
<script type="text/javascript" th:src="@{js/jquery-3.6.0.js}"></script>
<script type="text/javascript" th:src="@{js/bootstrap.js}"></script>
<script type="text/javascript" th:src="@{js/layui.js}"></script>
<body>
<!--轮播开始-->
<!--设置position-absolute或position-fixed使得背景位于登录表单下方-->
<!--<div id="mySlider" class="carousel slide h-100 position-fixed" data-bs-ride="carousel">-->
<!--    <ol class="carousel-indicators position-fixed">-->
<!--        <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></li>-->
<!--        <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></li>-->
<!--        <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></li>-->
<!--    </ol>-->
<!--    <div class="carousel-inner">-->
<!--        <div class="carousel-item active">-->
<!--            <img th:src="@{images/bg01.png}" class="d-block w-100" alt="...">-->
<!--        </div>-->
<!--        <div class="carousel-item">-->
<!--            <img th:src="@{images/logo_bg.jpg}" class="d-block w-100" alt="...">-->
<!--        </div>-->
<!--        <div class="carousel-item">-->
<!--            <img th:src="@{images/bg03.png}" class="d-block w-100" alt="...">-->
<!--        </div>-->
<!--    </div>-->
<!--    <a class="carousel-control-prev" href="#mySlider" role="button" data-bs-slide="prev">-->
<!--        <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
<!--        <span class="visually-hidden">上一张</span>-->
<!--    </a>-->
<!--    <a class="carousel-control-next" href="#mySlider" role="button" data-bs-slide="next">-->
<!--        <span class="carousel-control-next-icon" aria-hidden="true"></span>-->
<!--        <span class="visually-hidden">下一张</span>-->
<!--    </a>-->
<!--</div>-->

<!--轮播结束-->
<!--表单开始 -->
<div class=" layui-container">
    <div class="layui-row">
        <!--    <div class="" style="margin-top: 1vh">-->
        <div class="layui-col-md5" style="margin-top: 1vh">
            <img th:src="@{images/logo.jpg}" draggable="false">
        </div>
        <div class="layui-col-md7">
            <img th:src="@{images/ad_bg.jpg}" draggable="false">
        </div>
        <!--    </div>-->
    </div>
</div>
<div class="cet-border">
    <hr>
</div>
<div class="d-flex position-fixed justify-content-center login-wrapper">
    <div class="carousel  position-fixed col-sm-8 col-md-8 col-xl-6 p-6 ">
        <div class="">
            <img  th:src="@{images/logo_bg.jpg}" draggable="false" />
        </div>
    </div>
    <div style="z-index: 1;position: relative; margin-top: 2vh;margin-top: 9vh"
         class="col-sm-7 col-md-5 col-xl-3 p-3 bg">
        <div class=" text-center bg-transparent  card-img-top">
            <img th:src="@{images/login_title.jpg}" class="d-block w-100" draggable="false"/>
        </div>
        <div class="card-body">
            <form id="loginForm" method="post">
                <div class="layui-row">
                    <div class="form-group text-left layui-col-md-offset2">
                        <!--一个输入组-->
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">账号</span>
                            </div>
                            <input type="text" class="form-control required" required lay-verify="required"
                                   placeholder="邮箱/手机" autocomplete="off"
                                   id="username" name="username" autofocus="autofocus" maxlength="32">
                            <span type="button" class="btn btn-link" style="text-decoration:none">找回账号?</span>
                        </div>
                    </div>
                    <div>&nbsp;</div>
                    <div class="form-group text-left layui-col-md-offset2">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">密码</span>
                            </div>
                            <input type="password" class="form-control required" name="password" id="password"
                                   placeholder="密码"
                                   maxlength="32">
                            <span type="button" class="btn btn-link" style="text-decoration:none">忘记密码?</span>
                        </div>
                    </div>
                    <div>&nbsp;</div>
                </div>
                <div class="form-group form-check layui-row">
                    <div class="layui-col-md4 layui-col-md-offset2">
                        <input type="checkbox" class="form-check-input" id="remember-me" name="remember-me"
                               checked="checked">
                        <label class="form-check-label cet-them-color" for="remember-me">记住我</label>
                    </div>
                    <div class=" layui-col-md-offset6">
                    <span class="layui-font-black ">没有通行证?
                        <label class="btn btn-link " style="text-decoration:none;padding:0;">点击注册</label>
                    </span>
                    </div>
                </div>
                <div>&nbsp;</div>
                <div class="form-group layui-row">
                    <button type="button" onclick="commit()" onmouseenter="enterColor(this)"
                            onmouseleave="leaveColor(this)" lay-filter="formDemo"
                            style="font-size:1vw;color: white;background-color: #40ca70;"
                            class="layui-btn layui-btn-primary layui-btn-radius layui-col-md-offset6">登&nbsp;&nbsp;录
                    </button>
                    <button type="button" onmouseenter="enterColor(this)" onmouseleave="leaveColor(this)"
                            style="font-size:1vw;color: white; background-color: #40ca70;"
                            class="layui-btn layui-btn-primary layui-btn-radius">重&nbsp;&nbsp;置
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    //鼠标进入改变颜色
    function enterColor(dom) {
        dom.style.backgroundColor = "#8635a0";
    };

    //离开变颜色
    function leaveColor(dom) {
        dom.style.backgroundColor = "#40ca70";
    };

    //提交登录表单
    function commit() {
        //先验证表单数据合法
        let username = $("#username");
        let password = $("#password");
        if (username.val() === undefined || username.val().trim() === "") {
            layer.msg("用户名不能为空！", {
                icon: 5,
                time: 1000,
            });
            //获取焦点
            username.focus();
            return;
        } else if (password.val() === undefined || password.val().trim() === "") {
            layer.msg("密码不能为空！", {
                icon: 5,
                time: 1000,
            });
            password.focus();
            return;
        }
        ;
        //接口
        $.post("/login", $("#loginForm").serialize(), (resp) => {
            if (resp.code === 200) {
                //弹出一个成功提示层
                layer.msg(resp.msg, {
                    icon: 1,
                    time: 1000,
                });
            } else {
                //弹出一个成功提示层
                layer.msg(resp.msg, {
                    icon: 2,
                    time: 1000,
                });
            }

        })
    };

</script>
</body>
</html>